

<div class="pure-g">
    <div class="pure-u-1" style="display: inline-flex;">
        <mat-chip-list >
            <mat-chip  *ngFor="let filter of getValidFilters(); let i = index;" (click)="editFilter(i)" >Filter {{filter.field}} {{getFilterOperatorLabel(filter.operator)}} {{ filter.value }}</mat-chip>
        </mat-chip-list>
     </div>  
</div>



<div class="pure-g filter" *ngFor="let filter of filters; let i = index;">


    <div *ngIf="filter.isEditing" class="pure-u-1 pure-u-lg-1-4">
        <mat-select (ngModelChange)="onFilterFieldSelected($event, i)" [(ngModel)]="filter.field" placeholder="Field" required >
            <mat-option *ngFor="let field of fields" [value]="field.name">{{field.name}}</mat-option>
        </mat-select>
    </div> 

    <div *ngIf="filter.isEditing" class="pure-u-1 pure-u-lg-1-4">
        <mat-select [(ngModel)]="filter.operator"  placeholder="Filter" required >
            <mat-option *ngFor="let operator of filter.operatorsList" [value]="operator.value">{{operator.label}}</mat-option>
        </mat-select>
    </div>

    <div *ngIf="filter.isEditing" class="pure-u-1 pure-u-lg-1-4">
        <mat-form-field>
            <input matInput   [(ngModel)]="filter.value" type="text" placeholder="Value" >
        </mat-form-field>
    </div>

    <div *ngIf="filter.isEditing" class="pure-u-1 pure-u-lg-1-4 div-filters-add-remove">
        <button mat-icon-button  (click)="validateFilter(i)">
            <mat-icon >check</mat-icon>
        </button>
        <button mat-icon-button   (click)="removeFilter(i)">
            <mat-icon id="delete-icon" >delete</mat-icon>
        </button>
    </div>

</div>
